<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.5.6/css/buttons.bootstrap.min.css">
    <link href="css/style.css" rel="stylesheet">
    <title></title>
</head>
<style>
    .boxContainer{
        background-color:#fdfdfd;
        border-radius: 10px;
        padding:20px 16px;
        margin:0px 20px;
        box-shadow:0 0px 9px 0 rgba(0,0,0,0.16),0 2px 0px 0 rgba(0,0,0,0.12)
    }
    .boxContainer2{
        background-color:#fdfdfd;
        border-radius: 10px;
        padding:20px 16px 20px 20px;
        margin:20px 20px;
    }
    .boxContainer3{
        background-color:#fefefe;
        border-radius: 10px;
        padding:20px 16px 20px 20px;
        margin:20px 20px;
    }
    .boxContainer4{
        background-color:#fcfcfc;
        padding:20px 16px;
        margin:0px 20px;
        box-shadow:0 0px 9px 0 rgba(0,0,0,0.16),0 2px 0px 0 rgba(0,0,0,0.12)
    }
    thead th{
        background-color : #6B757F;
        color:#FFFFFF;
    }
    .blankspace{
        margin-top: 20px;
    }
</style>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.5.6/css/buttons.bootstrap.min.css">
  <link href="css/style.css" rel="stylesheet">
</head>



<body>
<nav th:replace="fragments/fragment :: navbar"></nav>
    <div class="blankspace">
       <!--  <div class="boxContainer2" style="overflow-x:auto;"> -->
            <form action="#" th:action="'/proyek/'+${proyek_id}+'/kehadiran/'+${judul_kehadiran}+'/penggajian3'" method="post" th:object="${daftar_penggajian}">
                <img src="img/icon_building.png" style="max-width:5%;margin-top: -10px">
                <h2 style="display: inline; margin-left: 10px">Data Penggajian</h2>
                <hr> 
       
<div class="blankspace">
    <div class="boxContainer" style="overflow-x:auto;">
        <img src="/img/icon_building.png" style="max-width:5%;margin-top: -10px">
        <h3 style="display: inline; margin-left: 10px">Hasil Perhitungan</h3>
        <hr></hr>
        <!--dropdown filter based on product-->
        <table id="example2"  class="table table-striped table-bordered" style="width: 100%">
            <col width="180">
            <col width="180">
            <col width="50">
            <col width="50">
            <col width="50">
            <col width="50">
            <col width="50">
            <col width="50">
            <col width="50">
            <col width="50">
            <col width="50">
            <col width="50">
            <thead>
                <th>NIP</th>
                <th>Nama Pegawai</th>
                <th>Gaji Pokok</th>
                <th>Total Tunjangan</th>
                <th>Gaji Bruto</th>
                <th>BPJSTK</th>
                <th>BPJSK</th>
                <th>Total BPJS</th>
                <th>Jumlah Gaji</th>
                <th>PTKP</th>
                <th>PKP</th>
                <th>PPH21</th>
                <th>Total Potongan</th>
                <th>Gaji Netto</th>
            </thead>
            <tbody>
                <tr id="test1" th:each="daftar_rekap_gaji, itemStat : ${rekap_gaji}">
                    <td th:text="${daftar_rekap_gaji.pegawai.nip}">wuRYYYYYYYYYY</td>
                    <td th:text="${daftar_rekap_gaji.pegawai.pelamar_id.nama_lengkap}">wuRYYYYYYYYYY</td>
                    <td th:text="${daftar_rekap_gaji.pegawai.gaji_pokok}">wuRYYYYYYYYYY</td>
                    <td th:text="${daftar_rekap_gaji.gaji.total_tunjangan}">wuRYYYYYYYYYY</td>
                    <td th:text="${daftar_rekap_gaji.gaji_bruto}">wuRYYYYYYYYYY</td>
                    <td th:text="${daftar_rekap_gaji.bpjstk}">wuRYYYYYYYYYY</td>
                    <td th:text="${daftar_rekap_gaji.bpjsk}">wuRYYYYYYYYYY</td>
                    <td th:text="${daftar_rekap_gaji.total_bpjs}">wuRYYYYYYYYYY</td>
                    <td th:text="${daftar_rekap_gaji.jumlah_gaji}">wuRYYYYYYYYYY</td>
                    <td th:text="${daftar_rekap_gaji.ptkp}">wuRYYYYYYYYYY</td>
                    <td th:text="${daftar_rekap_gaji.pkp}">wuRYYYYYYYYYY</td>
                    <td th:text="${daftar_rekap_gaji.pph21}">wuRYYYYYYYYYY</td>
                    <td th:text="${daftar_rekap_gaji.total_potongan}">wuRYYYYYYYYYY</td>
                    <td th:text="${daftar_rekap_gaji.gaji_netto}">wuRYYYYYYYYYY</td>
                </tr>

            </tbody>
        </table>
    </form>
</div>
</div>
</div>

<div class="blankspace">
<div class="boxContainer">
<img src="/img/icon_human_resources.png" style="max-width:5%;margin-top: -10px">
<h3 style="display: inline; margin-left: 10px">Informasi Data Penggajian</h3>
<hr>
<p>
<table id="example" class="table table-striped table-bordered" style="width:100%;">
        <thead>
            <tr>
                <th>NIP</th>
                <th>Nama Pegawai</th>
                <th>No Rekening</th>
                <th>Potongan</th>
                <th>Total Tunjangan</th>
                <th>Pinjaman</th>
                <th>Insentif</th>
                <th>Penambahan Lain</th>
                <th>Pengurangan Lain</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="gaji : ${daftar_gaji}">
                <td th:text="${gaji.pegawai_outsourcing.nip}"></td>
                <td th:text="${gaji.pegawai_outsourcing.pelamar_id.nama_lengkap}"></td>
                <td th:text="${gaji.pegawai_outsourcing.no_rekening}"></td>
                <td th:text="${gaji.potongan}"></td>
                <td th:text="${gaji.total_tunjangan}"></td>
                <td th:text="${gaji.pinjaman}"></td>
                <td th:text="${gaji.insentif}"></td>
                <td th:text="${gaji.penambahan_lain_lain}"></td>
                <td th:text="${gaji.pengurangan_lain_lain}"></td>

            </tr>
        <tfoot>
            <tr>
                <th>NIP</th>
                <th>Nama Pegawai</th>
                <th>Produk</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Gaji Pokok</th>
                <th>Tunjangan Tetap</th>
                <th>Tunjangan Tidak Tetap</th>
                <th>BPJS TK</th>
                <th>BPJSK</th>
                <th>Jaminan</th>
            </tr>
        </tfoot>
    </table>
</div>
</div>

<div class="blankspace">
<div class="boxContainer">
<img src="/img/icon_human_resources.png" style="max-width:5%;margin-top: -10px">
<h3 style="display: inline; margin-left: 10px">Informasi Pegawai Proyek</h3>
<hr>
<p>
<table id="example" class="table table-striped table-bordered" style="width:100%;">
        <thead>
            <tr>
                <th>NIP</th>
                <th>Nama Pegawai</th>
                <th>Produk</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Gaji Pokok</th>
                <th>Tunjangan Tetap</th>
                <th>Tunjangan Tidak Tetap</th>
                <th>BPJSTK</th>
                <th>BPJSK</th>
                <th>Jaminan</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="pegawaiProyek : ${listPegawai}">
                <td th:text="${pegawaiProyek.nip}"></td>
                <td th:text="${pegawaiProyek.pelamar_id.nama_lengkap}"></td>
                <td th:text="${pegawaiProyek.produk.nama_produk}"></td>
                <td th:text="${pegawaiProyek.join_date}"></td>
                <td th:text="${pegawaiProyek.end_date}"></td>
                <td th:text="${pegawaiProyek.gaji_pokok}"></td>
                <td th:text="${pegawaiProyek.tunjangan_tetap}"></td>
                <td th:text="${pegawaiProyek.tunjangan_tidak_tetap}"></td>
                <td th:text="${pegawaiProyek.bpjstk}"></td>
                <td th:text="${pegawaiProyek.bpjsk}"></td>
                <td th:text="${pegawaiProyek.jaminan}"></td>
            </tr>
        <tfoot>
            <tr>
                <th>NIP</th>
                <th>Nama Pegawai</th>
                <th>Produk</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Gaji Pokok</th>
                <th>Tunjangan Tetap</th>
                <th>Tunjangan Tidak Tetap</th>
                <th>BPJS TK</th>
                <th>BPJSK</th>
                <th>Jaminan</th>
            </tr>
        </tfoot>
    </table>
</div>
</div>

<div class="blankspace">
<div class="boxContainer">
<img src="/img/icon_human_resources.png" style="max-width:5%;margin-top: -10px">
<h3 style="display: inline; margin-left: 10px">Informasi Kehadiran</h3>
<hr>
<p>
<table id="example" class="table table-striped table-bordered" style="width:100%;">
        <thead>
            <tr>
                <th>NIP</th>
                <th>Nama Pegawai</th>
                <th>Hadir</th>
                <th>Sakit</th>
                <th>Izin</th>
                <th>Alfa</th>
                <th>Libur</th>
                <th>Cuti</th>
                <th>Lain-Lain</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="kehadiran : ${daftar_kehadiran}">
                <td th:text="${kehadiran.pegawai_outsourcing.nip}"></td>
                <td th:text="${kehadiran.pegawai_outsourcing.pelamar_id.nama_lengkap}"></td>
                <td th:text="${kehadiran.jumlah_kehadiran}"></td>
                <td th:text="${kehadiran.jumlah_sakit}"></td>
                <td th:text="${kehadiran.jumlah_izin}"></td>
                <td th:text="${kehadiran.jumlah_absen}"></td>
                <td th:text="${kehadiran.jumlah_off}"></td>
                <td th:text="${kehadiran.jumlah_cuti}"></td>
                <td th:text="${kehadiran.jumlah_lain_lain}"></td>
            </tr>
        <tfoot>
            <tr>
                <th>NIP</th>
                <th>Nama Pegawai</th>
                <th>Produk</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Gaji Pokok</th>
                <th>Tunjangan Tetap</th>
                <th>Tunjangan Tidak Tetap</th>
                <th>BPJS TK</th>
                <th>BPJSK</th>
                <th>Jaminan</th>
            </tr>
        </tfoot>
    </table>
</div>
</div>

<div class="blankspace">
    <script type="text/javascript" src="/media/js/site.js?_=994321fabf3873df746bb8bbccd1886a"></script>
    <script type="text/javascript" src="/media/js/dynamic.php?comments-page=extensions%2Fbuttons%2Fexamples%2Fstyling%2Fbootstrap.html" async></script>
    <script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.bootstrap.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.html5.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.print.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.colVis.min.js"></script>
    <script type="text/javascript" language="javascript" src="../../../../examples/resources/demo.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="https://www.chartjs.org/dist/2.8.0/Chart.min.js"></script>
    <script src="https://www.chartjs.org/samples/latest/utils.js"></script>
    <script type="text/javascript" class="init"></script>

</body>
<footer>

</footer>
<script>
</script>
</html>

<script>
$(document).ready(function() {
    // Setup - add a text input to each footer cell

    var table = $('#example').DataTable( {
        autoWidth: true,
        columnDefs: [
        { "width": "180px", "targets": [0,1] },
        { "width": "130px", "targets": [2,3,4,5,6,7,8,9] },
        { "width": "3600px", "targets": [10] },
        ],
        "scrollY": "500px",
        "sScrollX": "100%",
        "sScrollXInner": "100%",
        "scrollCollapse": true,
    } );

    table.buttons().container()
        .appendTo( '#example_wrapper .col-sm-12:eq(0)' );
    } );

    $('#example tbody').on( 'click', 'tr', function () {
        $(this).toggleClass('active');
    } );

    $('#example tfoot th').each( function () {
        var title = $(this).text();
        $(this).html( '<input type="text" placeholder="Search '+title+'" />' );
    } );
    // DataTable
    var docDefinition = {
         pageSize: 'A4',
    };

    $('#myModal').on('shown.bs.modal', function () {
      $('#myInput').trigger('focus')
    });


function Download(){
    var x = $('example').children();
    var fullText = "";
    $.each(x, function(index, value) {
       //console.log(value);
        fullText+=$(this).context.innerText + ",";
        console.log($(this).context.innerText);
    });
    
    var docDefinition2 = {
    content: [
        fullText
    ]
    };
    // this is just a simulation of the open event, replacing it with print produces the same result
    var docDefinition = { content: [
        {text:'Liat var docDefinition sama docDefinition2 di javascript Download(), baca dokumentasi',fontSize:20},
        {text:'Dokumentasi di http://pdfmake.org',fontSize:15},
        {text:'-dimas',fontSize:15},
        ] 
    };

    pdfMake.createPdf(docDefinition).download('gg.pdf');
};
    
$(function(){
    var table2 = $('#example').DataTable();
 
    // Apply the search
    table2.columns().every( function () {
        var that = this;
 
        $( 'input', this.footer() ).on( 'keyup change', function () {
            if ( that.search() !== this.value ) {
                that
                    .search( this.value )
                    .draw();
            }
        } );
    } );
} );

</script>
