<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.5.6/css/buttons.bootstrap.min.css">
  <link href="css/style.css" rel="stylesheet">
  <title></title>
</head>
<style>
.boxContainer{
  background-color:#fdfdfd;
  border-radius: 10px;
  padding:20px 16px;
  margin:0px 20px;
  box-shadow:0 0px 9px 0 rgba(0,0,0,0.16),0 2px 0px 0 rgba(0,0,0,0.12)
}
.boxContainer2{
  background-color:#fdfdfd;
  border-radius: 10px;
  padding:20px 16px 20px 20px;
  margin:20px 20px;
}
thead th{
  background-color : #6B757F;
  color:#FFFFFF;
}
.blankspace{
  margin-top: 20px;
}
table{
	margin: 0 auto;
	width: 100%;
	clear: both;
	border-collapse: collapse;
	table-layout: fixed; // ***********add this
	word-wrap:break-word; // ***********and this
}
</style>
<body>
<nav th:replace="fragments/fragment :: navbar"></nav>
<div class="blankspace">
<img src="/img/regulation.png" style="max-width:5%;margin-top: -10px">
<h2 style="display: inline; margin-left: 10px">Ubah Regulasi</h2>
<hr></hr>
</div>
<div class="blankspace">
<div class="boxContainer" style="overflow-x:auto;">
<h4>Melengkapi Data</h4>
<hr></hr>
<form action="#" th:action="'/proyek-pegawai/'+${proyek.id}" method="post" th:object="${listPegawai}">
<table id="example" class="table table-striped table-bordered" style="width:100%;">
        <thead>
            <tr>
                <th>NIP</th>
                <th>Nama Pegawai</th>
                <th>Produk</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Gaji Pokok</th>
                <th>Tunjangan Tetap</th>
                <th>Tunjangan Tidak Tetap</th>
                <th>No BPJS TK</th>
                <th>No BPJS Kesehatan</th>
                <th>Jaminan</th>
                <th style="display:none"></th>
                <th style="display:none"></th>
                <th style="display:none"></th>
                <th style="display:none"></th>
                <th style="display:none"></th>
                <th style="display:none"></th>
                <th style="display:none"></th>
                <th style="display:none"></th>
                <th style="display:none"></th>
                <th style="display:none"></th>
                <th style="display:none"></th>
                <th style="display:none"></th>
                <th style="display:none"></th>
                <th style="display:none"></th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="listPegawai, itemStat : *{listPegawai}">
                <td th:text="*{listPegawai[__${itemStat.index}__].nip}" ></td>
                <td th:text="*{listPegawai[__${itemStat.index}__].pelamar_id.nama_lengkap}"></td>
                <td th:text="*{listPegawai[__${itemStat.index}__].produk.nama_produk}"></td>
                <td th:text="*{listPegawai[__${itemStat.index}__].join_date}" ></td>
                <td th:text="*{listPegawai[__${itemStat.index}__].end_date}"></td>

                <td><input type="number" style="width:100%" th:field="*{listPegawai[__${itemStat.index}__].gaji_pokok}" name="gaji_pokok"></td>
                <td><input type="number" style="width:100%" th:field="*{listPegawai[__${itemStat.index}__].tunjangan_tetap}" name="tunjangan_tetap"></td>
                <td><input type="number" style="width:100%" th:field="*{listPegawai[__${itemStat.index}__].tunjangan_tidak_tetap}" name="tunjangan_tidak_tetap"></td>
                <td><input type="text" style="width:100%" th:field="*{listPegawai[__${itemStat.index}__].bpjsk}" name="bpjsk"></td>
                <td><input type="text" style="width:100%" th:field="*{listPegawai[__${itemStat.index}__].bpjstk}" name="bpjstk"></td>
                <td><input type="text" style="width:100%" th:field="*{listPegawai[__${itemStat.index}__].jaminan}" name="jaminan"></td>

                <td style="display:none"><input type="hidden" th:field="*{listPegawai[__${itemStat.index}__].jabatan}" name="jabatan"></td>
                <td style="display:none"><input type="hidden" th:field="*{listPegawai[__${itemStat.index}__].nip}" name="nip"></td>
                <td style="display:none"><input type="hidden" th:field="*{listPegawai[__${itemStat.index}__].join_date}" name="join_date"></td>
                <td style="display:none"><input type="hidden" th:field="*{listPegawai[__${itemStat.index}__].end_date}" name="end_date"></td>
                <td style="display:none"><input type="hidden" th:field="*{listPegawai[__${itemStat.index}__].id}" name="id"></td>
                <td style="display:none"><input type="hidden" th:field="*{listPegawai[__${itemStat.index}__].proyek}" name="proyek"></td>
                <td style="display:none"><input type="hidden" th:field="*{listPegawai[__${itemStat.index}__].produk}" name="produk"></td>
                <td style="display:none"><input type="hidden" th:field="*{listPegawai[__${itemStat.index}__].status}" name="status"></td>
                <td style="display:none"><input type="hidden" th:field="*{listPegawai[__${itemStat.index}__].npwp}" name="npwp"></td>
                <td style="display:none"><input type="hidden" th:field="*{listPegawai[__${itemStat.index}__].pkwt}" name="pkwt"></td>
                <td style="display:none"><input type="hidden" th:field="*{listPegawai[__${itemStat.index}__].no_arsip}" name="no_arsip"></td>
                <td style="display:none"><input type="hidden" th:field="*{listPegawai[__${itemStat.index}__].nama_bank}" name="nama_bank"></td>
                <td style="display:none"><input type="hidden" th:field="*{listPegawai[__${itemStat.index}__].no_rekening}" name="no_rekening"></td>
                <td style="display:none"><input type="hidden" th:field="*{listPegawai[__${itemStat.index}__].pelamar_id}" name="pelamar_id"></td>
            </tr>
            </tbody>
      </table>
  </div>
  </div>
  <div class="blankspace">
    <div class="col-lg-12">
    <button class="btn btn-primary btn-large"  type="submit">Simpan</button>
	<a class="btn btn-danger btn-large" th:href="@{'/proyek-detail/' +  ${proyek.id}}">Batalkan</a>
	</div>
	</div>
	 </form>


  <script type="text/javascript" src="/media/js/site.js?_=994321fabf3873df746bb8bbccd1886a"></script>
  <script type="text/javascript" src="/media/js/dynamic.php?comments-page=extensions%2Fbuttons%2Fexamples%2Fstyling%2Fbootstrap.html" async></script>
  <script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
  <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js"></script>
  <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/dataTables.buttons.min.js"></script>
  <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.bootstrap.min.js"></script>
  <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
  <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
  <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
  <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.html5.min.js"></script>
  <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.print.min.js"></script>
  <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.colVis.min.js"></script>
  <script type="text/javascript" language="javascript" src="../../../../examples/resources/demo.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <script type="text/javascript" class="init"></script>
</body>

<footer>
</footer>

<script>
$(document).ready(function() {
    // Setup - add a text input to each footer cell

  	var table = $('#example').DataTable( {
		autoWidth: false,
		"order": [ 0, "desc" ],
        columnDefs: [
        { "width": "120px", "targets": [3,4,5,6,8,9] },
        { "width": "180px", "targets": [0,1,2,7] },
        { "width": "250px", "targets": [10] },
        ],
		"scrollY" : "500px",
		"sScrollX" : "100%",
		"sScrollXInner" : "100%",
		"scrollCollapse" : true, 
		buttons : [ 'copy', 'csv', 'excel', 'pdf', 'print' ],
		exportOptions: {
	          rows: ':visible'
	        }
		} );

	table.buttons().container()
		.appendTo( '#example_wrapper .col-sm-12:eq(0)' );
	} );

    $('#example tbody').on( 'click', 'tr', function () {
        $(this).toggleClass('active');
    } );

    $('#example tfoot th').each( function () {
        var title = $(this).text();
        $(this).html( '<input type="text" style="width:100%" placeholder="Search '+title+'" />' );
    } );
    // DataTable
    var docDefinition = {
 		 pageSize: 'A4',
 	};

 	$('#myModal').on('shown.bs.modal', function () {
	  $('#myInput').trigger('focus')
	});

</script>

</html>